
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../reference/vam_client/utils/" rel="prev"/>
<link href="../../img/favico.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.44" name="generator"/>
<title>Time Series Fundamentals - Main Sequence SDK</title>
<link href="../../assets/stylesheets/main.0253249f.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../assets/_mkdocstrings.css" rel="stylesheet"/>
<link href="../../stylesheets/custom.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#time-series-fundamentals">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Main Sequence SDK" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Main Sequence SDK">
<img alt="logo" src="../../img/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Main Sequence SDK
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Time Series Fundamentals
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/Main-Sequence-Client-Side/tdag" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Main Sequence SDK" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Main Sequence SDK">
<img alt="logo" src="../../img/logo.png"/>
</a>
    Main Sequence SDK
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/Main-Sequence-Client-Side/tdag" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../about/">
<span class="md-ellipsis">
    About
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
<span class="md-ellipsis">
    TDAG
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
            TDAG
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting_started/TDAG/">
<span class="md-ellipsis">
    Welcome to TDAG
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
<span class="md-ellipsis">
    Tutorial
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_1_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_1_2">
<span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting_started/TDAG/tutorial/Introduction_part1/">
<span class="md-ellipsis">
    Part 1: TimeSeries
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting_started/TDAG/tutorial/running_time_series_part2/">
<span class="md-ellipsis">
    Part 2: Running Pipelines
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting_started/TDAG/tutorial/tdag_explorer_part3/">
<span class="md-ellipsis">
    Part 3: TDAG Explorer
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Code Reference
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Code Reference
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
<span class="md-ellipsis">
    tdag
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_1">
<span class="md-nav__icon md-icon"></span>
            tdag
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/config/">
<span class="md-ellipsis">
    config
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_2" id="__nav_4_1_2_label" tabindex="0">
<span class="md-ellipsis">
    contrib
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_1_2">
<span class="md-nav__icon md-icon"></span>
            contrib
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_2_1" id="__nav_4_1_2_1_label" tabindex="0">
<span class="md-ellipsis">
    feature_factory
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_2_1_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_4_1_2_1">
<span class="md-nav__icon md-icon"></span>
            feature_factory
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/contrib/feature_factory/bar_features/">
<span class="md-ellipsis">
    bar_features
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/contrib/feature_factory/bar_time_series/">
<span class="md-ellipsis">
    bar_time_series
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/contrib/feature_factory/utils/">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/contrib/utils/">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_3" id="__nav_4_1_3_label" tabindex="0">
<span class="md-ellipsis">
    distributed
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_1_3">
<span class="md-nav__icon md-icon"></span>
            distributed
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/distributed/time_series/">
<span class="md-ellipsis">
    time_series
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/distributed/utils/">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_4" id="__nav_4_1_4_label" tabindex="0">
<span class="md-ellipsis">
    instrumentation
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_1_4">
<span class="md-nav__icon md-icon"></span>
            instrumentation
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/instrumentation/utils/">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/logconf/">
<span class="md-ellipsis">
    logconf
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_6" id="__nav_4_1_6_label" tabindex="0">
<span class="md-ellipsis">
    time_series
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_6_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_1_6">
<span class="md-nav__icon md-icon"></span>
            time_series
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/persist_managers/">
<span class="md-ellipsis">
    persist_managers
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/time_series/">
<span class="md-ellipsis">
    time_series
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1_6_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_6_3" id="__nav_4_1_6_3_label" tabindex="0">
<span class="md-ellipsis">
    update
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_6_3_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_4_1_6_3">
<span class="md-nav__icon md-icon"></span>
            update
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/update/api/">
<span class="md-ellipsis">
    api
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/update/ray_manager/">
<span class="md-ellipsis">
    ray_manager
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/update/scheduler/">
<span class="md-ellipsis">
    scheduler
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/update/update_methods/">
<span class="md-ellipsis">
    update_methods
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/update/utils/">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/utils/">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/utils/">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
<span class="md-ellipsis">
    tdag_client
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
            tdag_client
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2_1" id="__nav_4_2_1_label" tabindex="0">
<span class="md-ellipsis">
    data_sources_interfaces
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_1_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_2_1">
<span class="md-nav__icon md-icon"></span>
            data_sources_interfaces
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag_client/data_sources_interfaces/local_data_lake/">
<span class="md-ellipsis">
    local_data_lake
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag_client/data_sources_interfaces/timescale/">
<span class="md-ellipsis">
    timescale
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag_client/models/">
<span class="md-ellipsis">
    models
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag_client/utils/">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
<span class="md-ellipsis">
    vam_client
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
            vam_client
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/vam_client/local_vault/">
<span class="md-ellipsis">
    local_vault
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3_2" id="__nav_4_3_2_label" tabindex="0">
<span class="md-ellipsis">
    maintenance
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_3_2">
<span class="md-nav__icon md-icon"></span>
            maintenance
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/vam_client/maintenance/accounts/">
<span class="md-ellipsis">
    accounts
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/vam_client/models/">
<span class="md-ellipsis">
    models
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/vam_client/models_alpaca/">
<span class="md-ellipsis">
    models_alpaca
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/vam_client/models_binance/">
<span class="md-ellipsis">
    models_binance
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/vam_client/models_helpers/">
<span class="md-ellipsis">
    models_helpers
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/vam_client/utils/">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Key Concepts
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Key Concepts
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Time Series Fundamentals
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Time Series Fundamentals
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#__init__-method">
<span class="md-ellipsis">
      __init__ Method
    </span>
</a>
<nav aria-label="__init__ Method" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#timeseries-dependencies">
<span class="md-ellipsis">
      TimeSeries Dependencies
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#timeseries-pickle">
<span class="md-ellipsis">
      TimeSeries Pickle
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update_series_from_source-method">
<span class="md-ellipsis">
      update_series_from_source Method
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#other-methods-to-perform-updates">
<span class="md-ellipsis">
      Other methods to perform updates
    </span>
</a>
<nav aria-label="Other methods to perform updates" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#get_df_greater_than_in_table">
<span class="md-ellipsis">
      get_df_greater_than_in_table
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get_last_observation">
<span class="md-ellipsis">
      get_last_observation
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#the-wrappertimeserie-class">
<span class="md-ellipsis">
      The WrapperTimeSerie Class
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#__init__-method">
<span class="md-ellipsis">
      __init__ Method
    </span>
</a>
<nav aria-label="__init__ Method" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#timeseries-dependencies">
<span class="md-ellipsis">
      TimeSeries Dependencies
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#timeseries-pickle">
<span class="md-ellipsis">
      TimeSeries Pickle
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update_series_from_source-method">
<span class="md-ellipsis">
      update_series_from_source Method
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#other-methods-to-perform-updates">
<span class="md-ellipsis">
      Other methods to perform updates
    </span>
</a>
<nav aria-label="Other methods to perform updates" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#get_df_greater_than_in_table">
<span class="md-ellipsis">
      get_df_greater_than_in_table
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get_last_observation">
<span class="md-ellipsis">
      get_last_observation
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#the-wrappertimeserie-class">
<span class="md-ellipsis">
      The WrapperTimeSerie Class
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="time-series-fundamentals">Time Series Fundamentals</h1>
<p>The core of TDAG is the TimeSerie class. A TDAG TimeSerie uniquely defines a process responsible for updating a time
series based on the last available value.</p>
<p>An update process in terms of TDAG involves the following:</p>
<p>Updating a DataRepository with the new data generated by the pipeline process.
Updating an ORM with the state of the data and the pipeline's updates.</p>
<p>The <code>TimeSerie</code> class is primarily defined by two key methods:</p>
<ol>
<li>The <code>__init__</code> method, which constructs the initial details and configuration of the class.</li>
<li>The <code>update_series_from_source(latest_value=None)</code> method, which handles updating the time series with new data
   starting from the latest value.</li>
</ol>
<p>By defining these two methods, it will be enough to make a time series work and be able to interconnect with other time
series.</p>
<pre class="mermaid"><code>flowchart TD
    subgraph TDAG_System[TDAG Framework]
         TimeSerieConstructor["TimeSerie.__init__(*args, **kwargs)"] --&gt;|Defines| TimeSerie["TimeSerie.update_series_from_source(latest_value)"]
    end

    subgraph DataRepositories["Data Repositories"]
        DB["TimeScaleDB"]
        DataLake["DataLake"]
    end

    subgraph ORM["TDAG ORM"]

        LocalTimeSerie["LocalTimeSerie (local_hash_id)"]  --&gt;|View of Table| DynamicTable["DynamicTable (hash_id)"]
    end

    TimeSerie --&gt;|Updates| DataRepositories
    TimeSerie --&gt;|Updates| ORM
     ORM --&gt;|Manages state of| DataRepositories
    ORM --&gt;|Updates| DynamicTable
    ORM --&gt;|Updates| LocalTimeSerie
</code></pre>
<p>Let’s dive into the details of each of these methods.</p>
<h2 id="__init__-method"><code>__init__</code> Method</h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">init_meta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
             <span class="n">build_meta_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">local_kwargs_to_ignore</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">data_configuration_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
<p>The <code>__init__</code> method is particularly important in TDAG as it helps us hash the process and, hence, link it to our data
repository. All the arguments in the <code>__init__</code> method will be used to create two unique hashes:</p>
<ol>
<li><strong>hash_id</strong>: Represents the unique hash of the data repository linked to the <code>TimeSerieProcess</code>.</li>
<li><strong>local_hash_id</strong>: Represents the unique hash of the process that is updating the data repository.</li>
</ol>
<p>It is easier to understand why we need hashing when we look at an example. Imagine that you have two different
portfolios represented as a <strong>TDAG</strong>. One portfolio uses prices from financial sector stocks, while the other portfolio
uses prices from technology stocks. Both pipelines depend on the <code>TimeSerie</code> for stock prices. However, we don’t want to
update the database of prices for all stocks when we only need updates for financial or technology stocks. At the same
time, we also don’t want to have separate tables for each subsection of stocks.</p>
<p><strong>TDAG</strong> helps us with this by creating a unique <code>hash_id</code> for the table that holds the prices and a unique <code>hash_id</code>
for the process that will be updating this table.</p>
<p>All the arguments of the constructor (<code>__init__</code>) will be used to create these hashes, with the exception of the
following:</p>
<ul>
<li><strong>init_meta</strong>: This is arbitrary metadata that can be passed during initialization. In more advanced examples, we may
  encounter cases where several time series have the same dependencies, so this can help in construction.</li>
<li><strong>build_meta_data</strong>: This is metadata that does not get included in the time series hash but can be recovered at any
  point. For example, if we have a <code>TimeSerie</code> that points to a database and we want the address to remain unhashable
  and editable from the front end, we can set it up here.</li>
<li><strong>local_kwargs_to_ignore</strong>: This is a list of strings with the names of the arguments that will be excluded from *
  <em>hash_id</em><em> but not from </em><em>local_hash_id</em>*.</li>
</ul>
<p>By last it is important that everytime we build a TimeSeries we decorate the <code>__init__</code> constructor
in the following way</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">mainsequence.tdag</span> <span class="kn">import</span> <span class="n">TimeSerie</span>


<span class="k">class</span> <span class="nc">NewTimeSeries</span><span class="p">(</span><span class="n">TimeSerie</span><span class="p">):</span>
    <span class="nd">@TimeSerie</span><span class="o">.</span><span class="n">_post_init_routines</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>
</code></pre></div>
<h3 id="timeseries-dependencies">TimeSeries Dependencies</h3>
<p>The <code>__init__</code> method is also responsible for building the dependency tree of each of our TimeSeries. In contrast to
other data pipeline managers, TDAG performs code introspection, which allows us to only declare the direct dependencies
of a time series. The only thing we need to do is declare the dependencies as attributes in our constructor, for
example.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">NewTimeSeries</span><span class="p">(</span><span class="n">TimeSerie</span><span class="p">):</span>
    <span class="nd">@TimeSerie</span><span class="o">.</span><span class="n">_post_init_routines</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset_symbols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prices_time_serie</span> <span class="o">=</span> <span class="n">PricesTimeSerie</span><span class="p">(</span><span class="n">asset_symbols</span><span class="o">=</span><span class="n">asset_symbols</span><span class="p">)</span>
</code></pre></div>
<h3 id="timeseries-pickle">TimeSeries Pickle</h3>
<p>Each <code>TimeSeries</code> instance <strong>saves</strong> its state as a pickle file <strong>upon</strong> its <strong>first</strong> initialization. <strong>This approach speeds up</strong> the <strong>loading process for</strong> time series data. Once a time series is pickled, <strong>all subsequent updates within</strong> a TDAG pipeline <strong>will use</strong> the pickled object.</p>
<p>Each time a time series is pickled, <strong>its code is hashed, and a unique identifier is assigned</strong>. <strong>This allows TDAG to determine when the time series needs to be re-pickled.</strong> To ensure the pickled time series <strong>remains up-to-date</strong>, every <code>TimeSeries</code> instance <strong>introspects itself on initialization, comparing</strong> its <strong>current</strong> code hash with the hash stored in the TDAG explorer. If the hashes <strong>differ, the</strong> <code>TimeSeries</code> instance <strong>will be rebuilt</strong> instead of loaded from the pickle.</p>
<h2 id="update_series_from_source-method"><code>update_series_from_source</code> Method</h2>
<div class="highlight"><pre><span></span><code>   <span class="k">def</span> <span class="nf">update_series_from_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">latest_value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    This method performs all the necessary logic to update our time series. The method should always return a DataFrame with the following characteristics:</span>

<span class="sd">    1) A unidimensional index where the index is of the type `DatetimeIndex` and the dates are in `pytz.utc`.</span>
<span class="sd">    2) A multidimensional index that should always have 3 dimensions: `time_index` (with the same characteristics as before), `asset_symbol`, and `execution_venue_symbol`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    latest_value</span>
<span class="sd">    args</span>
<span class="sd">    kwargs</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>

<span class="sd">    """</span>
</code></pre></div>
<p>This method performs all the necessary logic to update our time series. The method should always return a DataFrame with
the following characteristics:</p>
<p>1) A unidimensional index where the index is of the type <code>DatetimeIndex</code> and the dates are in <code>pytz.utc</code>.
2) A multidimensional index that should always have 3 dimensions: <code>time_index</code> (with the same characteristics as
   before), <code>asset_symbol</code>, and <code>execution_venue_symbol</code>.</p>
<p>As can be seen in the signature of the method, <code>latest_value</code> can be <code>None</code>. When the value is <code>None</code>, it means that the
TimeSerie has never been updated successfully before. When it is not <code>None</code>, it will give us the latest value in our
data repository for this time series.</p>
<h2 id="other-methods-to-perform-updates">Other methods to perform updates</h2>
<p>While the previous two methods are enough to perform updates, there are many cases in which we need additional helpers
to make the update seamless. I will describe in detail some of the most commonly used methods.</p>
<h3 id="get_df_greater_than_in_table"><code>get_df_greater_than_in_table</code></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_df_greater_than_in_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">],</span>
                                 <span class="n">great_or_equal</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                 <span class="n">force_db_look</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">symbol_list</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">list</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                 <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>This method gives you the data in the repository greater than the <code>target_value</code>. It is helpful for retrieving data for
dependencies during the update process. In several methods, we will encounter the <code>symbol_list</code> argument, which helps
filter requests by the second axis of a multi-index, specifically the <code>asset_symbol</code>.</p>
<h3 id="get_last_observation"><code>get_last_observation</code></h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_last_observation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset_symbols</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">list</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                         <span class="p">):</span>
</code></pre></div>
<p>Returns the last observation of a TimeSerie as a pandas DataFrame</p>
<h3 id="the-wrappertimeserie-class">The WrapperTimeSerie Class</h3>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">WrapperTimeSerie</span><span class="p">(</span><span class="n">TimeSerie</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""A wrapper class for managing multiple TimeSerie objects."""</span>

    <span class="nd">@TimeSerie</span><span class="o">.</span><span class="n">_post_init_routines</span><span class="p">()</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_series_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TimeSerie</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</code></pre></div>
<p>The <code>WrapperTimeSerie</code> class is an intermediate helper class that helps us group several <code>TimeSerie</code> instances in a
declarative form. This helper class is useful when we have a group of similar time series, and we want to manage them
together.</p>
<pre class="mermaid"><code>graph TD
    %% First Chart: Several TimeSeries connect to a single TimeSerie
    subgraph Chart1["Multiple TimeSeries to a Single TimeSerie"]
        TS1["TimeSerie 1"] --&gt; MainTimeSerie["Main TimeSerie"]
        TS2["TimeSerie 2"] --&gt; MainTimeSerie
        TS3["TimeSerie 3"] --&gt; MainTimeSerie
    end

    %% Second Chart: Multiple TimeSeries connect to WrapperTimeSerie, then WrapperTimeSerie connects to Main TimeSerie
    subgraph Chart2["TimeSeries to WrapperTimeSerie to Main TimeSerie"]
        TS4["TimeSerie 1"] --&gt; WrapperTimeSerie["WrapperTimeSerie"]
        TS5["TimeSerie 2"] --&gt; WrapperTimeSerie
        TS6["TimeSerie 3"] --&gt; WrapperTimeSerie
        WrapperTimeSerie --&gt; MainTimeSerie2["Main TimeSerie"]
    end
</code></pre>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
<script src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js"></script>
<script>window.mermaidConfig = {default: {
    startOnLoad: false
}};</script></body>
</html>