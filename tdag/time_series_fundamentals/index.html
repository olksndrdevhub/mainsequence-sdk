
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../getting_started/" rel="prev"/>
<link href="../orchestration_and_monitoring/" rel="next"/>
<link href="../../img/favico.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.44" name="generator"/>
<title>Time Series Data Pipelines Fundamentals - Main Sequence SDK</title>
<link href="../../assets/stylesheets/main.0253249f.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../assets/_mkdocstrings.css" rel="stylesheet"/>
<link href="../../stylesheets/custom.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#time-series-fundamentals-in-tdag">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Main Sequence SDK" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Main Sequence SDK">
<img alt="logo" src="../../img/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Main Sequence SDK
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Time Series Data Pipelines Fundamentals
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/mainsequence-sdk/mainsequence-sdk" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../getting_started/">
          
  
    
  
  TDAG

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../about/">
        
  
    
  
  About

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../getting_started/TDAG/">
          
  
    
  
  Getting Started

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../reference/client/ai.md">
          
  
    
  
  Code Reference

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../key_concepts">
        
  
    
  
  Key Concepts

      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Main Sequence SDK" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Main Sequence SDK">
<img alt="logo" src="../../img/logo.png"/>
</a>
    Main Sequence SDK
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/mainsequence-sdk/mainsequence-sdk" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
<span class="md-ellipsis">
    TDAG
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            TDAG
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../getting_started/">
<span class="md-ellipsis">
    Getting Started
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Time Series Data Pipelines Fundamentals
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Time Series Data Pipelines Fundamentals
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#understanding-the-update-process">
<span class="md-ellipsis">
      Understanding the Update Process
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#initializing-a-timeserie">
<span class="md-ellipsis">
      Initializing a TimeSerie
    </span>
</a>
<nav aria-label="Initializing a TimeSerie" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#hashing-mechanism">
<span class="md-ellipsis">
      Hashing Mechanism
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#special-constructor-arguments">
<span class="md-ellipsis">
      Special Constructor Arguments
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#decorator-usage">
<span class="md-ellipsis">
      Decorator Usage
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#managing-dependencies-with-introspection">
<span class="md-ellipsis">
      Managing Dependencies with Introspection
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#state-persistence-with-pickles">
<span class="md-ellipsis">
      State Persistence with Pickles
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#updating-a-timeserie">
<span class="md-ellipsis">
      Updating a TimeSerie
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#essential-helper-methods">
<span class="md-ellipsis">
      Essential Helper Methods
    </span>
</a>
<nav aria-label="Essential Helper Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieving-data-between-dates">
<span class="md-ellipsis">
      Retrieving Data Between Dates
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#getting-last-observation">
<span class="md-ellipsis">
      Getting Last Observation
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#wrappertimeserie-class">
<span class="md-ellipsis">
      WrapperTimeSerie Class
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../orchestration_and_monitoring/">
<span class="md-ellipsis">
    Orchestration &amp; Monitoring
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../about/">
<span class="md-ellipsis">
    About
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../getting_started/TDAG/">
<span class="md-ellipsis">
    TDAG
  </span>
</a>
<label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_1">
<span class="md-nav__icon md-icon"></span>
            TDAG
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1_2" id="__nav_4_1_2_label" tabindex="0">
<span class="md-ellipsis">
    Tutorial
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_1_2">
<span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting_started/TDAG/tutorial/Introduction_part1/">
<span class="md-ellipsis">
    Part 1: TimeSeries
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting_started/TDAG/tutorial/running_time_series_part2/">
<span class="md-ellipsis">
    Part 2: Running Pipelines
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting_started/TDAG/tutorial/tdag_explorer_part3/">
<span class="md-ellipsis">
    Part 3: TDAG Explorer
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Code Reference
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Code Reference
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
<span class="md-ellipsis">
    client
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_1">
<span class="md-nav__icon md-icon"></span>
            client
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/client/ai.md">
<span class="md-ellipsis">
    ai
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/client/base.md">
<span class="md-ellipsis">
    base
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_1_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_1_3" id="__nav_5_1_3_label" tabindex="0">
<span class="md-ellipsis">
    data_sources_interfaces
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_1_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_1_3">
<span class="md-nav__icon md-icon"></span>
            data_sources_interfaces
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/client/data_sources_interfaces/local_data_lake.md">
<span class="md-ellipsis">
    local_data_lake
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/client/data_sources_interfaces/timescale.md">
<span class="md-ellipsis">
    timescale
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/client/models_helpers.md">
<span class="md-ellipsis">
    models_helpers
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/client/models_tdag.md">
<span class="md-ellipsis">
    models_tdag
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/client/models_vam.md">
<span class="md-ellipsis">
    models_vam
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/client/utils.md">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
<span class="md-ellipsis">
    instrumentation
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
            instrumentation
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/instrumentation/utils.md">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/logconf.md">
<span class="md-ellipsis">
    logconf
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
<span class="md-ellipsis">
    tdag
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_4">
<span class="md-nav__icon md-icon"></span>
            tdag
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/config.md">
<span class="md-ellipsis">
    config
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4_2" id="__nav_5_4_2_label" tabindex="0">
<span class="md-ellipsis">
    distributed
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_4_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_4_2">
<span class="md-nav__icon md-icon"></span>
            distributed
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/distributed/time_series.md">
<span class="md-ellipsis">
    time_series
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/distributed/utils.md">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4_3" id="__nav_5_4_3_label" tabindex="0">
<span class="md-ellipsis">
    time_series
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_4_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_4_3">
<span class="md-nav__icon md-icon"></span>
            time_series
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/persist_managers.md">
<span class="md-ellipsis">
    persist_managers
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/time_series.md">
<span class="md-ellipsis">
    time_series
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_4_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4_3_3" id="__nav_5_4_3_3_label" tabindex="0">
<span class="md-ellipsis">
    update
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_4_3_3_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_5_4_3_3">
<span class="md-nav__icon md-icon"></span>
            update
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/update/api.md">
<span class="md-ellipsis">
    api
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/update/ray_manager.md">
<span class="md-ellipsis">
    ray_manager
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/update/scheduler.md">
<span class="md-ellipsis">
    scheduler
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/update/update_methods.md">
<span class="md-ellipsis">
    update_methods
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/update/utils.md">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/time_series/utils.md">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/tdag/utils.md">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
<span class="md-ellipsis">
    virtualfundbuilder
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_5">
<span class="md-nav__icon md-icon"></span>
            virtualfundbuilder
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/agent_interface.md">
<span class="md-ellipsis">
    agent_interface
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/config_handling.md">
<span class="md-ellipsis">
    config_handling
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_5_3" id="__nav_5_5_3_label" tabindex="0">
<span class="md-ellipsis">
    contrib
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_5_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_5_3">
<span class="md-nav__icon md-icon"></span>
            contrib
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_5_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_5_3_1" id="__nav_5_5_3_1_label" tabindex="0">
<span class="md-ellipsis">
    apps
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_5_3_1_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_5_5_3_1">
<span class="md-nav__icon md-icon"></span>
            apps
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/contrib/apps/generate_report.md">
<span class="md-ellipsis">
    generate_report
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/contrib/apps/news_app.md">
<span class="md-ellipsis">
    news_app
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_5_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_5_3_2" id="__nav_5_5_3_2_label" tabindex="0">
<span class="md-ellipsis">
    prices
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_5_3_2_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_5_5_3_2">
<span class="md-nav__icon md-icon"></span>
            prices
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/contrib/prices/time_series.md">
<span class="md-ellipsis">
    time_series
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/contrib/prices/utils.md">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_5_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_5_3_3" id="__nav_5_5_3_3_label" tabindex="0">
<span class="md-ellipsis">
    rebalance_strategies
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_5_3_3_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_5_5_3_3">
<span class="md-nav__icon md-icon"></span>
            rebalance_strategies
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/contrib/rebalance_strategies/rebalance_strategies.md">
<span class="md-ellipsis">
    rebalance_strategies
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_5_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_5_3_4" id="__nav_5_5_3_4_label" tabindex="0">
<span class="md-ellipsis">
    templates
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_5_3_4_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_5_5_3_4">
<span class="md-nav__icon md-icon"></span>
            templates
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/contrib/templates/asset_groups.md">
<span class="md-ellipsis">
    asset_groups
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_5_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_5_3_5" id="__nav_5_5_3_5_label" tabindex="0">
<span class="md-ellipsis">
    time_series
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_5_3_5_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_5_5_3_5">
<span class="md-nav__icon md-icon"></span>
            time_series
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/contrib/time_series/intraday_trend.md">
<span class="md-ellipsis">
    intraday_trend
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/contrib/time_series/market_cap.md">
<span class="md-ellipsis">
    market_cap
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/contrib/time_series/mock_signal.md">
<span class="md-ellipsis">
    mock_signal
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/contrib/time_series/portfolio_replicator.md">
<span class="md-ellipsis">
    portfolio_replicator
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/enums.md">
<span class="md-ellipsis">
    enums
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/models.md">
<span class="md-ellipsis">
    models
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/notebook_handling.md">
<span class="md-ellipsis">
    notebook_handling
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/portfolio_interface.md">
<span class="md-ellipsis">
    portfolio_interface
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_5_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_5_8" id="__nav_5_5_8_label" tabindex="0">
<span class="md-ellipsis">
    portfolio_templates
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_5_8_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_5_8">
<span class="md-nav__icon md-icon"></span>
            portfolio_templates
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/portfolio_templates/crypto_index_template.md">
<span class="md-ellipsis">
    crypto_index_template
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/portfolio_templates/momentum_portfolio.md">
<span class="md-ellipsis">
    momentum_portfolio
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_5_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_5_9" id="__nav_5_5_9_label" tabindex="0">
<span class="md-ellipsis">
    resource_factory
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_5_9_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_5_5_9">
<span class="md-nav__icon md-icon"></span>
            resource_factory
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/resource_factory/app_factory.md">
<span class="md-ellipsis">
    app_factory
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/resource_factory/base_factory.md">
<span class="md-ellipsis">
    base_factory
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/resource_factory/rebalance_factory.md">
<span class="md-ellipsis">
    rebalance_factory
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/resource_factory/signal_factory.md">
<span class="md-ellipsis">
    signal_factory
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/time_series.md">
<span class="md-ellipsis">
    time_series
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/virtualfundbuilder/utils.md">
<span class="md-ellipsis">
    utils
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../key_concepts">
<span class="md-ellipsis">
    Key Concepts
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#understanding-the-update-process">
<span class="md-ellipsis">
      Understanding the Update Process
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#initializing-a-timeserie">
<span class="md-ellipsis">
      Initializing a TimeSerie
    </span>
</a>
<nav aria-label="Initializing a TimeSerie" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#hashing-mechanism">
<span class="md-ellipsis">
      Hashing Mechanism
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#special-constructor-arguments">
<span class="md-ellipsis">
      Special Constructor Arguments
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#decorator-usage">
<span class="md-ellipsis">
      Decorator Usage
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#managing-dependencies-with-introspection">
<span class="md-ellipsis">
      Managing Dependencies with Introspection
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#state-persistence-with-pickles">
<span class="md-ellipsis">
      State Persistence with Pickles
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#updating-a-timeserie">
<span class="md-ellipsis">
      Updating a TimeSerie
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#essential-helper-methods">
<span class="md-ellipsis">
      Essential Helper Methods
    </span>
</a>
<nav aria-label="Essential Helper Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieving-data-between-dates">
<span class="md-ellipsis">
      Retrieving Data Between Dates
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#getting-last-observation">
<span class="md-ellipsis">
      Getting Last Observation
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#wrappertimeserie-class">
<span class="md-ellipsis">
      WrapperTimeSerie Class
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="time-series-fundamentals-in-tdag">Time Series Fundamentals in TDAG</h1>
<p>TDAG's core revolves around the concept of time series, encapsulated in the powerful <code>TimeSerie</code> class. Each <code>TimeSerie</code> object manages the process of updating data, reflecting the most current available information. It interacts seamlessly with databases and maintains a robust internal state, supporting efficient data pipelines.</p>
<h2 id="understanding-the-update-process">Understanding the Update Process</h2>
<p>In TDAG, updating involves:</p>
<ul>
<li><strong>Updating DataRepositories</strong>: Stores the generated data from the update process.</li>
<li><strong>Updating ORM</strong>: Manages the internal state of the data and the pipeline.</li>
</ul>
<p>The following diagram illustrates these interactions:</p>
<pre class="mermaid"><code>flowchart TD
    subgraph TDAG_System[TDAG Framework]
         TimeSerieConstructor["TimeSerie.__init__(*args, **kwargs)"] --&gt;|Defines| TimeSerie["TimeSerie.update(latest_value)"]
    end

    subgraph DataRepositories["Data Repositories"]
        DB["TimeScaleDB"]
        DataLake["DataLake"]
    end

    subgraph ORM["TDAG ORM"]
        LocalTimeSerie["LocalTimeSerie (local_hash_id)"]  --&gt;|View of Table| DynamicTable["DynamicTable (hash_id)"]
    end

    TimeSerie --&gt;|Updates| DataRepositories
    TimeSerie --&gt;|Updates| ORM
     ORM --&gt;|Manages state of| DataRepositories
    ORM --&gt;|Updates| DynamicTable
    ORM --&gt;|Updates| LocalTimeSerie
</code></pre>
<h2 id="initializing-a-timeserie">Initializing a TimeSerie</h2>
<p>The constructor (<code>__init__</code>) defines the initial state and configuration:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">init_meta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
             <span class="n">build_meta_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">local_kwargs_to_ignore</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">data_configuration_path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
<h3 id="hashing-mechanism">Hashing Mechanism</h3>
<p>The constructor arguments create two essential hashes that facilitate efficient management of data and updates:</p>
<ul>
<li>
<p><strong><code>hash_id</code></strong>: Used to uniquely identify data repositories linked to a specific <code>TimeSerie</code>. This ensures different configurations or datasets are appropriately separated or merged based on their content rather than their names alone.</p>
</li>
<li>
<p><strong><code>local_hash_id</code></strong>: Used to uniquely identify the specific update processes. It enables TDAG to recognize distinct update routines and manage their internal state independently, crucial for parallel updates or workflows that reuse identical data structures with different update logic.</p>
</li>
</ul>
<h3 id="special-constructor-arguments">Special Constructor Arguments</h3>
<p>Some arguments are explicitly excluded from hashing:</p>
<ul>
<li><strong><code>init_meta</code></strong>: Arbitrary metadata used during initialization for convenience and clarity.</li>
<li><strong><code>build_meta_data</code></strong>: Metadata recoverable anytime and editable from interfaces; useful for dynamic or interactive data handling.</li>
<li><strong><code>local_kwargs_to_ignore</code></strong>: Arguments excluded from the <code>hash_id</code> calculation but included in <code>local_hash_id</code>, allowing flexibility in differentiating between datasets and update processes.</li>
</ul>
<h3 id="decorator-usage">Decorator Usage</h3>
<p>Always decorate the constructor to ensure proper integration with TDAG:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">mainsequence.tdag</span><span class="w"> </span><span class="kn">import</span> <span class="n">TimeSerie</span>

<span class="k">class</span><span class="w"> </span><span class="nc">NewTimeSeries</span><span class="p">(</span><span class="n">TimeSerie</span><span class="p">):</span>
    <span class="nd">@TimeSerie</span><span class="o">.</span><span class="n">_post_init_routines</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>
</code></pre></div>
<h3 id="managing-dependencies-with-introspection">Managing Dependencies with Introspection</h3>
<p>TDAG simplifies dependency management by automatically detecting dependencies through introspection. Rather than manually managing complex dependency trees, developers only need to explicitly declare direct dependencies as class attributes. TDAG then builds the full dependency graph internally.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NewTimeSeries</span><span class="p">(</span><span class="n">TimeSerie</span><span class="p">):</span>
    <span class="nd">@TimeSerie</span><span class="o">.</span><span class="n">_post_init_routines</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset_symbols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># Explicitly declare direct dependency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prices_time_serie</span> <span class="o">=</span> <span class="n">PricesTimeSerie</span><span class="p">(</span><span class="n">asset_symbols</span><span class="o">=</span><span class="n">asset_symbols</span><span class="p">)</span>
</code></pre></div>
<p>TDAG automatically understands that <code>NewTimeSeries</code> depends on <code>PricesTimeSerie</code> and manages updates accordingly.</p>
<h3 id="state-persistence-with-pickles">State Persistence with Pickles</h3>
<p>TDAG pickles each <code>TimeSerie</code> after its first initialization, significantly reducing load times in future updates. The pickle state is automatically updated when the underlying code changes, ensuring consistency and efficiency.</p>
<h2 id="updating-a-timeserie">Updating a TimeSerie</h2>
<p>The <code>update</code> method performs all the necessary logic to fetch, calculate, and store new data points in the series. It uses a parameter called <code>latest_value</code>, representing the most recent timestamp from previous updates. If <code>latest_value</code> is <code>None</code>, the series has never been updated successfully before. Otherwise, it continues from the given point.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">update_statistics</span><span class="p">:</span> <span class="n">DataUpdates</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="c1"># Perform update logic based on latest_value</span>
    <span class="n">new_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_new_data_since</span><span class="p">(</span><span class="n">latest_value</span><span class="p">)</span>
    <span class="n">processed_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_metrics</span><span class="p">(</span><span class="n">new_data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">processed_data</span>
</code></pre></div>
<p>Returned DataFrame requirements:</p>
<ul>
<li><strong>Unidimensional index</strong>: <code>DatetimeIndex</code> in <code>pytz.utc</code>.</li>
<li><strong>Multidimensional index</strong>: three dimensions: <code>time_index</code>, <code>asset_symbol</code>, and <code>execution_venue_symbol</code>.</li>
</ul>
<h2 id="essential-helper-methods">Essential Helper Methods</h2>
<h3 id="retrieving-data-between-dates">Retrieving Data Between Dates</h3>
<p>The <code>get_df_between_dates</code> method fetches data from a specified date range:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_df_between_dates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_date</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                         <span class="n">end_date</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                         <span class="n">unique_identifier_list</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">list</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                         <span class="n">great_or_equal</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">less_or_equal</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">unique_identifier_range_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UniqueIdentifierRangeMap</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                         <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</code></pre></div>
<p>This method efficiently retrieves data within a specific range, accommodating various filtering scenarios by asset or time intervals.</p>
<h3 id="getting-last-observation">Getting Last Observation</h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_last_observation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset_symbols</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">list</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</code></pre></div>
<p>Returns the most recent observation in the series.</p>
<h2 id="wrappertimeserie-class">WrapperTimeSerie Class</h2>
<p><code>WrapperTimeSerie</code> allows collective management of multiple <code>TimeSerie</code> instances, facilitating scalable and efficient updates:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WrapperTimeSerie</span><span class="p">(</span><span class="n">TimeSerie</span><span class="p">):</span>
    <span class="nd">@TimeSerie</span><span class="o">.</span><span class="n">_post_init_routines</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_series_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TimeSerie</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</code></pre></div>
<p>TDAG’s TimeSeries object simplifies managing complex data dependencies, ensuring efficiency, consistency, and maintainability in your data pipelines.</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Getting Started" class="md-footer__link md-footer__link--prev" href="../getting_started/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                Getting Started
              </div>
</div>
</a>
<a aria-label="Next: Orchestration &amp; Monitoring" class="md-footer__link md-footer__link--next" href="../orchestration_and_monitoring/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                Orchestration &amp; Monitoring
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.footer", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
<script src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js"></script>
<script>window.mermaidConfig = {default: {
    startOnLoad: false
}};</script></body>
</html>